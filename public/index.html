<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CBT Matansa User Manager</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<style>
:root {
    --primary: #6200ee;
    --secondary: #03dac6;
    --surface: #ffffff;
    --background: #f5f5f5;
    --error: #b00020;
    --on-primary: #ffffff;
    --on-surface: #000000;
    --border-radius: 12px;
    --shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
}

body { font-family: 'Roboto', sans-serif; margin:0; padding:16px; background: var(--background); display:flex; flex-direction:column; align-items:center; min-height:100vh; }
.app-bar { width:95%; max-width:600px; background:var(--primary); color:var(--on-primary); border-radius:var(--border-radius); margin-bottom:20px; box-shadow:var(--shadow); display:flex; justify-content:space-between; align-items:center; }
.card { width:100%; max-width:600px; background:var(--surface); border-radius:var(--border-radius); box-shadow:var(--shadow); overflow:hidden; }
.card-header { padding:16px; border-bottom:1px solid rgba(0,0,0,0.1); display:flex; justify-content:space-between; align-items:center; }
.card-title { margin:0; font-size:1.25rem; font-weight:500; }
.card-content { padding:16px; }
.button { background-color:var(--primary); color:var(--on-primary); border:none; border-radius:24px; padding:10px 20px; font-size:0.9rem; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; min-height:44px; transition:all 0.3s ease; }
.button:active { transform:scale(0.97); }
.button .material-icons { margin-right:8px; }
.fab { position:fixed; bottom:24px; right:24px; width:56px; height:56px; border-radius:50%; background:var(--primary); color:white; display:flex; align-items:center; justify-content:center; box-shadow:0 4px 8px rgba(0,0,0,0.3); cursor:pointer; }
.table-container { width:100%; overflow-x:auto; }
table { width:100%; border-collapse:collapse; margin-top:16px; min-width:400px; }
th, td { padding:12px 8px; text-align:left; border-bottom:1px solid rgba(0,0,0,0.1); }
th { font-weight:500; color:rgba(0,0,0,0.6); font-size:0.9rem; }
input, select { width:100%; padding:8px; border:1px solid rgba(0,0,0,0.2); border-radius:4px; font-family:'Roboto',sans-serif; }
input:focus, select:focus { outline:none; border-color:var(--primary); }
.user-form { display:grid; grid-template-columns:1fr 1fr auto; gap:10px; margin-top:16px; }
.remove-btn { color:var(--error); background:none; border:none; cursor:pointer; padding:8px; border-radius:50%; }
.toast { position:fixed; bottom:100px; left:50%; transform:translateX(-50%) translateY(100px); background-color:#323232; color:white; padding:12px 24px; border-radius:4px; box-shadow:0 3px 10px rgba(0,0,0,0.3); opacity:0; transition:all 0.3s ease; z-index:1000; }
.toast.show { opacity:1; transform:translateX(-50%) translateY(0); }

/* Responsive adjustments */
@media (max-width: 600px) {
    .user-form { grid-template-columns:1fr; }
    th, td { padding:8px 4px; }
    input, select { padding:8px; }
    .fab { bottom:16px; right:16px; width:48px; height:48px; }
}
</style>
</head>
<body>

<div class="app-bar">
    <h1>CBT Matansa User Manager</h1>
    <span class="material-icons">people</span>
</div>

<div class="card">
    <div class="card-header">
        <h2 class="card-title">Manage Users</h2>
    </div>
    <div class="card-content">
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-bottom:16px;">
            <button id="load" class="button"><span class="material-icons">cloud_download</span> Load</button>
            <button id="save" class="button"><span class="material-icons">save</span> Save</button>
        </div>

        <div class="table-container">
            <table id="usersTable">
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Password</th>
                        <th>Role</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <div class="user-form">
            <input type="text" id="newUsername" placeholder="Username">
            <input type="text" id="newPassword" placeholder="Password">
            <select id="newRole">
                <option value="users">User</option>
                <option value="admin">Admin</option>
            </select>
        </div>
    </div>
</div>

<div class="fab" id="addUserBtn"><span class="material-icons">add</span></div>
<div class="toast" id="toast"></div>

<script>
function _0x4cb3(){const _0xaa5e38=['load','selected','trim','Users\x20loaded','style','splice','password','>User</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22admin\x22\x20','7824036wTKPyx','users','\x22\x20data-index=\x22','token\x20','get','\x22\x20class=\x22role\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22users\x22\x20','toast','11YpYHIz','username','admin','add','PUT','826623kIEXwt','Error\x20loading\x20users','forEach',')\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22material-icons\x22>delete</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20</td>\x0a','backgroundColor','getElementById','error','role','location','json','querySelectorAll','push','Update\x20users.json\x20via\x20web','find','classList','11630jHIjoH','https://api.github.com/repos/','save','5211tPXvwT','1693336BAGJTy','40igcctv','parse','Error\x20fetching\x20users.json','querySelector','/contents/','newPassword','.role','length','1001576MnAmxV','search','remove','103107vUIqVO','dataset','#usersTable\x20tbody','20QcPbri','>Admin</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20style=\x22margin-right:10px\x22\x20class=\x22remove-btn\x22\x20onclick=\x22removeUser(','exambro','value','innerHTML','.username','Username\x20and\x20password\x20required','7ijzWSx','application/json','<tr><td\x20colspan=\x224\x22\x20style=\x22text-align:center;\x20padding:20px;\x20color:rgba(0,0,0,0.5)\x22>No\x20users\x20found</td></tr>','\x22\x20class=\x22username\x22></td>\x0a\x20\x20\x20\x20<td><input\x20type=\x22text\x22\x20style=\x22margin-right:10px\x22\x20value=\x22','sha','2575386AhtFfR','.password','User\x20added','\x22\x20class=\x22password\x22></td>\x0a\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<select\x20style=\x22margin-right:10px\x22\x20data-index=\x22','Users\x20saved\x20successfully','Mediafirecom','newRole','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','appendChild','content','\x0a\x20\x20\x20\x20<td><input\x20style=\x22margin-right:10px\x22\x20value=\x22','index','#b00020','createElement','newUsername','href','disabled','show','onclick','./login.html'];_0x4cb3=function(){return _0xaa5e38;};return _0x4cb3();}function _0x526f(_0xe26e22,_0x4c974f){const _0x4cb345=_0x4cb3();return _0x526f=function(_0x526f57,_0x37dba2){_0x526f57=_0x526f57-0xbf;let _0x4e4944=_0x4cb345[_0x526f57];return _0x4e4944;},_0x526f(_0xe26e22,_0x4c974f);}const _0x21ac5f=_0x526f;(function(_0x23b098,_0x2f062e){const _0x3be5d3=_0x526f,_0x26afbb=_0x23b098();while(!![]){try{const _0xe40b24=-parseInt(_0x3be5d3(0x105))/0x1+-parseInt(_0x3be5d3(0xc3))/0x2*(-parseInt(_0x3be5d3(0xce))/0x3)+parseInt(_0x3be5d3(0xcb))/0x4*(parseInt(_0x3be5d3(0xd1))/0x5)+-parseInt(_0x3be5d3(0xdd))/0x6*(parseInt(_0x3be5d3(0xd8))/0x7)+parseInt(_0x3be5d3(0xc2))/0x8+-parseInt(_0x3be5d3(0xc1))/0x9*(-parseInt(_0x3be5d3(0x114))/0xa)+parseInt(_0x3be5d3(0x100))/0xb*(-parseInt(_0x3be5d3(0xf9))/0xc);if(_0xe40b24===_0x2f062e)break;else _0x26afbb['push'](_0x26afbb['shift']());}catch(_0x5c5151){_0x26afbb['push'](_0x26afbb['shift']());}}}(_0x4cb3,0xa2a1f));const TOKEN=_0x21ac5f(0xe4),OWNER=_0x21ac5f(0xe2),REPO=_0x21ac5f(0xd3),PATH='auth/login/users.json';let fileSha='',usersData=[];const params=new URLSearchParams(window['location'][_0x21ac5f(0xcc)]),userParam=params[_0x21ac5f(0xfd)]('user'),passParam=params[_0x21ac5f(0xfd)](_0x21ac5f(0xf7));(!userParam||!passParam)&&(window['location'][_0x21ac5f(0xec)]=_0x21ac5f(0xf0));async function checkAdminUser(){const _0x51098b=_0x21ac5f;try{const _0x556a2b=await fetch('https://raw.githubusercontent.com/Mediafirecom/exambro/main/auth/login/users.json'),_0x3de248=await _0x556a2b[_0x51098b(0x10e)](),_0x1d65e3=_0x3de248[_0x51098b(0xfa)][_0x51098b(0x112)](_0x5ed902=>_0x5ed902[_0x51098b(0x101)]===userParam&&_0x5ed902[_0x51098b(0xf7)]===passParam&&_0x5ed902['role']===_0x51098b(0x102));!_0x1d65e3?window[_0x51098b(0x10d)]['href']=_0x51098b(0xf0):console['log']('Welcome\x20'+_0x1d65e3['username']+'!');}catch(_0x7d12c6){console['error'](_0x51098b(0xc5),_0x7d12c6),window[_0x51098b(0x10d)]['href']=_0x51098b(0xf0);}}checkAdminUser();const toast=document[_0x21ac5f(0x10a)](_0x21ac5f(0xff));function showToast(_0x244d42,_0x2984c5=![]){const _0x25a1a3=_0x21ac5f;toast['textContent']=_0x244d42,toast[_0x25a1a3(0xf5)][_0x25a1a3(0x109)]=_0x2984c5?_0x25a1a3(0xe9):'#323232',toast[_0x25a1a3(0x113)][_0x25a1a3(0x103)](_0x25a1a3(0xee)),setTimeout(()=>toast[_0x25a1a3(0x113)][_0x25a1a3(0xcd)](_0x25a1a3(0xee)),0xbb8);}async function loadUsers(){const _0xc3a207=_0x21ac5f,_0xb16611=document['getElementById'](_0xc3a207(0xf1));_0xb16611['disabled']=!![];try{const _0x3ccf62=await fetch('https://api.github.com/repos/'+OWNER+'/'+REPO+'/contents/'+PATH,{'headers':{'Authorization':_0xc3a207(0xfc)+TOKEN}});if(!_0x3ccf62['ok'])throw new Error(_0x3ccf62['status']);const _0x244780=await _0x3ccf62[_0xc3a207(0x10e)]();fileSha=_0x244780[_0xc3a207(0xdc)],usersData=JSON[_0xc3a207(0xc4)](atob(_0x244780[_0xc3a207(0xe6)]))['users']||[],renderTable(),showToast(_0xc3a207(0xf4));}catch(_0x1fffa3){console['error'](_0x1fffa3),showToast(_0xc3a207(0x106),!![]);}finally{_0xb16611[_0xc3a207(0xed)]=![];}}function renderTable(){const _0x35ea0c=_0x21ac5f,_0x451842=document[_0x35ea0c(0xc6)](_0x35ea0c(0xd0));_0x451842[_0x35ea0c(0xd5)]='';if(usersData[_0x35ea0c(0xca)]===0x0){_0x451842[_0x35ea0c(0xd5)]=_0x35ea0c(0xda);return;}usersData[_0x35ea0c(0x107)]((_0x5dd28a,_0x4d31f5)=>{const _0x2ddb51=_0x35ea0c,_0x133940=document[_0x2ddb51(0xea)]('tr');_0x133940[_0x2ddb51(0xd5)]=_0x2ddb51(0xe7)+_0x5dd28a['username']+_0x2ddb51(0xfb)+_0x4d31f5+_0x2ddb51(0xdb)+_0x5dd28a['password']+'\x22\x20data-index=\x22'+_0x4d31f5+_0x2ddb51(0xe0)+_0x4d31f5+_0x2ddb51(0xfe)+(_0x5dd28a[_0x2ddb51(0x10c)]==='users'?_0x2ddb51(0xf2):'')+_0x2ddb51(0xf8)+(_0x5dd28a['role']===_0x2ddb51(0x102)?_0x2ddb51(0xf2):'')+_0x2ddb51(0xd2)+_0x4d31f5+_0x2ddb51(0x108),_0x451842[_0x2ddb51(0xe5)](_0x133940);});}function removeUser(_0x2796eb){const _0x3289a2=_0x21ac5f;usersData[_0x3289a2(0xf6)](_0x2796eb,0x1),renderTable(),showToast('User\x20removed');}document[_0x21ac5f(0x10a)]('addUserBtn')[_0x21ac5f(0xef)]=()=>{const _0x1c0f65=_0x21ac5f,_0x1cd449=document['getElementById'](_0x1c0f65(0xeb))[_0x1c0f65(0xd4)]['trim'](),_0x128e56=document['getElementById'](_0x1c0f65(0xc8))['value'][_0x1c0f65(0xf3)](),_0x5d0971=document[_0x1c0f65(0x10a)](_0x1c0f65(0xe3))['value'];if(_0x1cd449&&_0x128e56)usersData[_0x1c0f65(0x110)]({'username':_0x1cd449,'password':_0x128e56,'role':_0x5d0971}),renderTable(),document['getElementById']('newUsername')['value']='',document['getElementById'](_0x1c0f65(0xc8))[_0x1c0f65(0xd4)]='',showToast(_0x1c0f65(0xdf));else showToast(_0x1c0f65(0xd7),!![]);},document[_0x21ac5f(0x10a)](_0x21ac5f(0xf1))[_0x21ac5f(0xef)]=loadUsers,document[_0x21ac5f(0x10a)](_0x21ac5f(0xc0))[_0x21ac5f(0xef)]=async()=>{const _0x2d1518=_0x21ac5f,_0x220dfa=document[_0x2d1518(0x10a)]('save');_0x220dfa[_0x2d1518(0xed)]=!![],document['querySelectorAll'](_0x2d1518(0xd6))[_0x2d1518(0x107)](_0x53a347=>usersData[_0x53a347[_0x2d1518(0xcf)][_0x2d1518(0xe8)]]['username']=_0x53a347[_0x2d1518(0xd4)]),document[_0x2d1518(0x10f)](_0x2d1518(0xde))[_0x2d1518(0x107)](_0x582725=>usersData[_0x582725['dataset'][_0x2d1518(0xe8)]][_0x2d1518(0xf7)]=_0x582725['value']),document[_0x2d1518(0x10f)](_0x2d1518(0xc9))['forEach'](_0x40f34b=>usersData[_0x40f34b[_0x2d1518(0xcf)][_0x2d1518(0xe8)]][_0x2d1518(0x10c)]=_0x40f34b[_0x2d1518(0xd4)]);try{const _0x18d5bb=JSON['stringify']({'users':usersData},null,0x2),_0x4a765c=await fetch(_0x2d1518(0xbf)+OWNER+'/'+REPO+_0x2d1518(0xc7)+PATH,{'method':_0x2d1518(0x104),'headers':{'Authorization':_0x2d1518(0xfc)+TOKEN,'Content-Type':_0x2d1518(0xd9)},'body':JSON['stringify']({'message':_0x2d1518(0x111),'content':btoa(unescape(encodeURIComponent(_0x18d5bb))),'sha':fileSha})}),_0x5e7924=await _0x4a765c[_0x2d1518(0x10e)]();_0x5e7924[_0x2d1518(0xe6)]?(fileSha=_0x5e7924[_0x2d1518(0xe6)][_0x2d1518(0xdc)],showToast(_0x2d1518(0xe1))):(console[_0x2d1518(0x10b)](_0x5e7924),showToast('Error\x20saving\x20users',!![]));}catch(_0x42fb8b){console[_0x2d1518(0x10b)](_0x42fb8b),showToast('Error\x20saving\x20users',!![]);}finally{_0x220dfa[_0x2d1518(0xed)];}},setTimeout(loadUsers,0x1f4);
</script>
</body>
</html>
